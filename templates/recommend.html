<!DOCTYPE html>
<html>
<head>
    <title>SmartCourse â€“ Get Recommendations</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', sans-serif; background: #f8f9fa; min-height: 100vh; display: flex; flex-direction: column; }
        .main-content { flex: 1; padding: 40px 20px; }
        .container { max-width: 900px; margin: 0 auto; }
        .search-box { background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); margin-bottom: 30px; }
        .search-box h2 { margin-top: 0; color: #333; font-size: 24px; margin-bottom: 10px; }
        .search-box p { color: #666; margin-bottom: 20px; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #333; }
        #query { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; box-sizing: border-box; min-height: 100px; resize: vertical; transition: border-color 0.3s; }
        #query:focus { outline: none; border-color: #0066cc; box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.1); }
        #model { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; box-sizing: border-box; transition: border-color 0.3s; }
        #model:focus { outline: none; border-color: #0066cc; box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.1); }
        .button-group { display: flex; gap: 10px; }
        button { flex: 1; padding: 12px 20px; background: linear-gradient(135deg, #0066cc 0%, #00c9a7 100%); color: white; border: none; border-radius: 4px; font-size: 16px; font-weight: 600; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; }
        button:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0, 102, 204, 0.3); }
        #results { background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); }
        .card { background: #f8f9fa; border: 1px solid #e0e0e0; border-radius: 4px; padding: 20px; margin-bottom: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .card h3 { margin-top: 0; color: #0066cc; }
        .card p { margin: 10px 0; color: #555; line-height: 1.5; }
        .card strong { color: #333; }
        .favorite-btn { transition: opacity 0.3s, transform 0.2s; cursor: pointer; font-size: 20px; }
        .favorite-btn:hover { transform: scale(1.2); }
        .favorite-btn.favorited { opacity: 1 !important; }
        .loading-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.6); z-index: 1000; justify-content: center; align-items: center; }
        .loading-overlay.active { display: flex; }
        .spinner { width: 50px; height: 50px; border: 5px solid #f3f3f3; border-top: 5px solid #0066cc; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-text { color: white; margin-left: 20px; font-size: 18px; font-weight: bold; }
        .results-tabs { display: flex; gap: 0; margin-bottom: 20px; border-bottom: 2px solid #ddd; }
        .results-tabs button { flex: 0 1 auto; padding: 12px 20px; background: white; color: #333; border: none; font-size: 14px; font-weight: 600; cursor: pointer; border-bottom: 3px solid transparent; transition: all 0.3s; }
        .results-tabs button:hover { background: #f0f0f0; border-bottom-color: #ddd; }
        .results-tabs button.active { color: #0066cc; border-bottom-color: #0066cc; background: white; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .comparison-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px; }
        .comparison-column h4 { padding-bottom: 15px; border-bottom: 2px solid #ddd; margin-bottom: 20px; font-weight: 600; }
        .comparison-column h4.tfidf { border-bottom-color: #0066cc; color: #0066cc; }
        .comparison-column h4.neural { border-bottom-color: #00c9a7; color: #00c9a7; }
    </style>
</head>
<body>

{% include 'header.html' %}

<div class="loading-overlay" id="loadingOverlay">
    <div class="spinner"></div>
    <div class="loading-text">Finding best courses for you...</div>
</div>

<div class="main-content">
    <div class="container">
        <div class="search-box">
            <h2>Find the Best Courses</h2>
            <p>Enter what you want to learn and we'll recommend the best courses for you</p>
            
            <div class="form-group">
                <label for="query">What do you want to learn?</label>
                <textarea id="query" placeholder="E.g., Web development, Data science, Digital marketing..."></textarea>
            </div>
            
            <div class="form-group">
                <label for="model">Model Reference:</label>
                <select id="model">
                    <option value="tfidf">TF-IDF (Faster)</option>
                    <option value="neural">Neural (More Accurate)</option>
                </select>
            </div>
            
            <div class="button-group">
                <button onclick="checkAuthAndRecommend()">Get Recommendations</button>
            </div>
        </div>

        <div id="results"></div>
    </div>
</div>

{% include 'footer.html' %}

<script src="/static/script.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', function() {
        const token = getTokenFromURL();
        if (token) {
            localStorage.setItem("auth_token", token);
        }
    });
</script>

</body>
</html>
